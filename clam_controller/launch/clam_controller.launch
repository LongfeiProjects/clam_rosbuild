<!-- -*- mode: XML -*- -->

<launch>
    <!-- Start the Dynamixel motor manager to control all clam servos -->
    <node name="dynamixel_manager" pkg="dynamixel_hardware_interface" type="controller_manager" output="screen" >
        <!-- Load all the servo properties -->
        <rosparam file="$(find clam_controller)/config/clam_controller_manager.yaml" command="load"/>
    </node>
    
    <!-- Load joint controller configuration from YAML file to parameter server -->
    <rosparam file="$(find clam_controller)/config/clam_controller_configuration.yaml" command="load"/>

    <!-- Start all Clam joint controllers -->
    <node name="clam_controller_spawner_ttl" pkg="dynamixel_hardware_interface" type="controller_spawner.py"
          args="--manager=clam_motor_manager
                --port=port_ttl
                shoulder_pan_controller
                gripper_roll_controller
                gripper_grip_controller"
          output="screen"/>

    <node name="clam_controller_spawner_rs485" pkg="dynamixel_hardware_interface" type="controller_spawner.py"
          args="--manager=clam_motor_manager
                --port=port_rs485
                shoulder_pitch_controller
                elbow_roll_controller
		elbow_pitch_controller
                wrist_roll_controller
                wrist_pitch_controller"
          output="screen"/>

</launch>
